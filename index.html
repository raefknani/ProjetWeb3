<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">

    <title>Agence de Voyage - Accueil</title>

</head>

<body>
    <div class="navbar">
        <div class="menu_burger">
            <img src="./menu-burger.png" alt="">
        </div>


        <div class="logo_container">
            <p class="LG_logo">AV</p>
            <ul class="logoContent">
                <li>
                    <p id="AgenceVoyage">Agence Voyage</p>
                </li>
                <li>
                    <p id="Decouvrir">Découvrir • Réserver • Voyager</p>
                </li>
            </ul>
        </div>


        <div>
            <ul class="nav_selection">
                <span class="nav_group">
                    <li><a href="./index.html">Accueil</a></li>
                    <li><a href="./destination.html">Destinations</a></li>
                    <li><a href="./reservation.html">Réservation</a></li>
                    <li><a href="./a_propos.html">À propos</a></li>
                    <li><a href="./Contact.html">Contact</a></li>
                </span>
                <li id="btn_reserver">Réservez maintenant</li>
            </ul>

        </div>
    </div>
    <div class="menue_after">
        <p id="relativelogo" class="LG_logo">AV</p>
        <ul>

            <li><a href="./index.html">Accueil</a></li>
            <li><a href="./destination.html">Destinations</a></li>
            <li><a href="./reservation.html">Réservation</a></li>
            <li><a href="./a_propos.html">À propos</a></li>
            <li><a href="./Contact.html">Contact</a></li>
        </ul>
    </div>

    <div class="carrosel_and_search_wrapper">
        <div class="carousel-wrapper">
            <h1>Découvrez vos destinations de rêve</h1>
            <p class="subtitle">
                Trouve des voyages adaptés : famille, aventure, romance — à prix compétitifs.
            </p>
            <div class="carousel">
                <input type="radio" name="slides" id="slide1" checked>
                <input type="radio" name="slides" id="slide2">
                <input type="radio" name="slides" id="slide3">
                <div class="slides">
                    <div class="slide">
                        <img
                            src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=1200&q=80">
                        <div class="caption">Escapades urbaines</div>
                    </div>
                    <div class="slide">
                        <img
                            src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1200&q=80">
                        <div class="caption">Aventures en nature</div>
                    </div>
                    <div class="slide">
                        <img
                            src="https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?auto=format&fit=crop&w=1200&q=80">
                        <div class="caption">Voyages romantiques</div>
                    </div>
                </div>
                <!-- Navigation dots -->
                <div class="navigation">
                    <label for="slide1"></label>
                    <label for="slide2"></label>
                    <label for="slide3"></label>
                </div>
            </div>
        </div>
    </div>



    <script>
        const burger = document.querySelector('.menu_burger');
        const menu = document.querySelector('.menue_after');
        // carousel begin
        const slidesContainer = document.querySelector(".slides");
        let startX = 0;
        let currentSlide = 0;
        const totalSlides = document.querySelectorAll(".slide").length;
        // carousel end


        function toggleMenu() {
            if (!menu) return;
            menu.classList.toggle('is-open');
        }

        if (burger) {
            burger.addEventListener('click', toggleMenu);
        }

        // Switch button label on mobile/tablet
        const reserveBtn = document.querySelector('#btn_reserver');
        const compactQuery = window.matchMedia('(max-width: 1100px)'); // Surface Pro-ish widths and below

        function updateReserveLabel(e) {
            if (!reserveBtn) return;
            reserveBtn.textContent = e.matches ? 'Réserver…' : 'Réservez maintenant';
        }

        if (reserveBtn) {
            updateReserveLabel(compactQuery);
            compactQuery.addEventListener('change', updateReserveLabel);
        }

        // carousel functionality
        const radioButtons = document.querySelectorAll('input[name="slides"]');
        let isDragging = false;

        function changeSlide(diff) {
            // Swipe/drag left → next slide
            if (diff > 50) {
                currentSlide = (currentSlide + 1) % totalSlides;
            }
            // Swipe/drag right → previous slide
            if (diff < -50) {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            }
            // Check the corresponding radio button
            if (radioButtons[currentSlide]) {
                radioButtons[currentSlide].checked = true;
            }
        }

        // Touch events for mobile
        slidesContainer.addEventListener("touchstart", (e) => {
            startX = e.touches[0].clientX;
        });

        slidesContainer.addEventListener("touchend", (e) => {
            let endX = e.changedTouches[0].clientX;
            let diff = startX - endX;
            changeSlide(diff);
        });

        // Mouse events for PC
        slidesContainer.addEventListener("mousedown", (e) => {
            isDragging = true;
            startX = e.clientX;
            slidesContainer.style.cursor = 'grabbing';
        });

        slidesContainer.addEventListener("mousemove", (e) => {
            if (!isDragging) return;
            e.preventDefault();
        });

        slidesContainer.addEventListener("mouseup", (e) => {
            if (!isDragging) return;
            isDragging = false;
            let endX = e.clientX;
            let diff = startX - endX;
            changeSlide(diff);
            slidesContainer.style.cursor = 'grab';
        });

        slidesContainer.addEventListener("mouseleave", () => {
            if (isDragging) {
                isDragging = false;
                slidesContainer.style.cursor = 'grab';
            }
        });

        // Set initial cursor
        slidesContainer.style.cursor = 'grab';
        // end carousel functionality

    </script>

</body>

</html>